<!DOCTYPE html>
<html>

<head>
   
    <script>
    
        var currentFrameNumber = 0; // sets variable framecounter to 0
        var sceneList = [];         // Is what holds rectangle
    

        function init()
        {
            console.log("Hello World!")  // Hello woprld in console
            
            var newRectangleInstance = new Rectangle(20, 0, "rgb(0,255,0)");  // new instance of rectangle 1
            var newRectangleInstance2 = new Rectangle(20, 0, "rgb(255,0,0)"); // new instance of rectangle 2
            var newRectangleInstance3 = new Rectangle(20, 0, "rgb(0,0,255)"); // new instance of rectangle 3
            sceneList.push(newRectangleInstance,newRectangleInstance2,newRectangleInstance3);   // pushes 3 rectangles on to scene list
        } 

        function addRandomRect() 
        {
            var x = Math.floor(Math.random() * 400); // random x coordinate
            var y = Math.floor(Math.random() * 400); // random y coordinate
    
            var r = 255-Math.floor(Math.random() * 255);    // random r value
            var g = 255-Math.floor(Math.random() * 255);    // random g value 
            var b = 255-Math.floor(Math.random() * 255);    // random b value
        
            var color = "rgb("+r+","+ g+","+ b+")"; // random rgb value inputs
            
            updateAndDraw(x,y,color);
            // var newRandomRect = new Rectangle(20, 0, "rgb(0,0,255)"); // new instance of rectangle 3
        }

        function updateAndDraw(x, y, color)
        {
            var c = document.getElementById("myCanvas"); //<!--Draws Colored Squares-->
            var ctx = c.getContext("2d"); // grabs 2d shape
            ctx.fillStyle = color; //<!--chooses square color-->
            ctx.fillRect(x, y, 50, 50); //<!--fills square color--> 
            ctx.strokeRect(x, y, 50, 50); //<!--Draws Square Border-->
            requestAnimationFrame(function() {
                updateStats() // refresh statistics
                addRandomRect(); // draws the rectangle
                currentFrameNumber +=1 // increments frame number by 1
            });
        }

        function Rectangle(x, y, color) // object to accept x,y, and color of rectangle
        {
            var velocity={
                x:0,
                y:0
            }
            
            this.x = x;     
            this.y = y;
            this.color = color;

            var update = function() {
                velocity.y++;
                this.y = this.y + velocity.y * 0.16;
            }

            updateAndDraw(x,y,color);
        }
    
        function updateStats() // Displays current frame and rectangle counters
        {
            var p = document.getElementById("frameCount");
            p.innerText = "Frame Count: " + currentFrameNumber;
      
            var p = document.getElementById("rectangleCount");
            p.innerText = "Rectangles Count: " + sceneList.length;

        }
    </script> 

<title>Page Title</title>
</head>

<body onload="init()"> <!--Calls init-->
<canvas id="myCanvas" width="300" height="200" style="border:1px solid gray;"></canvas><!--Creates main window-->

<p id="frameCount">Frame Count: 0</p> <!--Creates frame count label-->
<p id="rectangleCount">Rectangle Count: 0</p> <!--Creates Rectangle Count label-->
    
</body>
</html>